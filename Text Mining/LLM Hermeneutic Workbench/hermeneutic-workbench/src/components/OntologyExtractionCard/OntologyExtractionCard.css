/**
 * OntologyExtractionCard Styles - Modern OpenAI-inspired Design
 * Clean, minimal, typography-focused with color-coded certainty
 */

/* =============================================================================
   CARD CONTAINER
   ============================================================================= */
.ontology-card {
    background-color: var(--bg-primary);
    border: 1px solid var(--border-primary);
    border-radius: var(--radius-main);
    margin-bottom: var(--sp-6);
    padding: var(--sp-6);
    box-shadow: var(--shadow-sm);
    transition: box-shadow 0.2s ease;
}

.ontology-card:hover {
    box-shadow: var(--shadow-md);
}

.ontology-card.empty-state {
    text-align: center;
    color: var(--fg-secondary);
    font-style: italic;
}

/* =============================================================================
   EXTRACTION LAYOUT
   ============================================================================= */
.ontology-extraction {
    display: flex;
    flex-direction: column;
    gap: var(--sp-5);
}



/* =============================================================================
   TRIPLE VISUALIZATION (Subject → Relation → Object)
   ============================================================================= */
.ontology-triple {
    display: flex;
    align-items: stretch;
    gap: var(--sp-4);
}

/* Entity boxes - Clean, left-aligned */
.ontology-extraction .entity-box {
    flex: 1;
    border: 1px solid var(--border-entitybox);
    border-radius: var(--radius-main);
    padding: var(--sp-35) var(--sp-1) var(--sp-1) var(--sp-8);
    background: var(--bg-entitybox);
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: var(--sp-2);
}

.ontology-extraction .entity-name {
    font-size: var(--fs-md);
    font-weight: 600;
    color: var(--fg-primary);
    line-height: 1.3;
}

/* Mapping badge - Pill-style badges matching entity-type-badge */
.mapping-badge {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    font-size: var(--fs-xs);
    font-weight: 500;
    padding: calc(var(--sp-1) - 1px) var(--sp-2);
    border-radius: var(--radius-pill);
    color: var(--fg-on-accent);
    white-space: nowrap;
}

/* Specific colors are now handled dynamically via inline styles based on ontology class hierarchy */
/* See src/lib/ontologyUtils.ts and getOntologyColor() usage */

/* Relation connector */
.relation-connector {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-width: 120px;
    padding: 0 var(--sp-2);
    color: var(--fg-secondary);
}

.relation-property {
    font-size: var(--fs-xs);
    font-weight: 600;
    margin-bottom: var(--sp-1);
    text-align: center;
}

.relation-arrow {
    font-size: var(--fs-xs);
    font-weight: 600;
    color: var(--accent);
}

.negation-indicator {
    color: #ef4444;
    font-weight: 700;
    margin-right: 2px;
}

/* =============================================================================
   SURFACE FORM
   ============================================================================= */
.surface-text-inline {
    font-family: var(--font-mono);
    font-size: 11px;
    color: var(--fg-secondary);
    background: var(--bg-secondary);
    padding: 2px 6px;
    border-radius: var(--radius-inline);
    margin-top: 4px;
    max-width: 180px;
    text-align: center;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* =============================================================================
   EPISTEMIC STANCE - Inline Row with Color-Coded Certainty
   ============================================================================= */
.epistemic-row {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: var(--sp-2);
    font-size: var(--fs-sm);
    color: var(--fg-secondary);
}

.epistemic-separator {
    color: var(--border-secondary);
}

.epistemic-item {
    display: inline-flex;
    align-items: center;
    gap: 4px;
}

.epistemic-label {
    color: var(--fg-secondary);
}

.epistemic-value {
    font-weight: 500;
    color: var(--fg-primary);
}

/* Certainty color coding */
.certainty-certain {
    color: #10a37f;
}

.certainty-probable {
    color: #d2980d;
}

.certainty-possible {
    color: #f59e0b;
}

.certainty-uncertain {
    color: #ef4444;
}

.certainty-unspecified {
    color: var(--fg-secondary);
}

/* Attribution - subtle inline */
.epistemic-icon {
    font-size: 13px;
    opacity: 0.7;
    margin-right: 2px;
}

/* =============================================================================
   PROVENANCE SECTION - Green accent for visual distinction
   ============================================================================= */
.provenance-section {
    border-left: 3px solid #10B981;
    padding-left: var(--sp-4);
}

.evidence-quote {
    font-style: italic;
    color: var(--fg-primary);
    margin: 0 0 var(--sp-2) 0;
    font-size: var(--fs-sm);
    line-height: 1.5;
}

.source-ids {
    display: flex;
    align-items: center;
    gap: var(--sp-2);
    font-size: var(--fs-xs);
    color: var(--fg-secondary);
}

.source-label {
    color: var(--fg-secondary);
}

.source-id-tag {
    font-family: var(--font-mono);
    background: var(--bg-secondary);
    padding: 2px 6px;
    border-radius: var(--radius-inline);
    color: var(--fg-primary);
}

.source-separator {
    color: var(--border-secondary);
    margin: 0 var(--sp-1);
}

.extraction-id-footer {
    font-family: var(--font-mono);
    color: var(--fg-secondary);
    opacity: 0.7;
}

/* =============================================================================
   REASONING SECTION - Elegant Accordion
   ============================================================================= */
.reasoning-section {
    margin-top: var(--sp-2);
}

.reasoning-toggle {
    display: flex;
    align-items: center;
    gap: var(--sp-2);
    background: linear-gradient(135deg, rgba(81, 89, 249, 0.06), rgba(81, 89, 249, 0.02));
    border: 1px solid rgba(81, 89, 249, 0.12);
    border-radius: var(--radius-interactive);
    cursor: pointer;
    font-size: var(--fs-sm);
    font-weight: 500;
    color: var(--accent);
    padding: var(--sp-2) var(--sp-3);
    transition: all 0.2s ease;
    width: fit-content;
}

.reasoning-toggle:hover {
    background: linear-gradient(135deg, rgba(81, 89, 249, 0.1), rgba(81, 89, 249, 0.04));
    border-color: rgba(81, 89, 249, 0.2);
    box-shadow: 0 2px 8px rgba(81, 89, 249, 0.1);
}

.toggle-chevron {
    font-size: var(--fs-sm);
    font-weight: 600;
    color: var(--accent);
    transition: transform 0.25s cubic-bezier(0.4, 0, 0.2, 1);
}

.toggle-chevron.expanded {
    transform: rotate(90deg);
}

.reasoning-content {
    margin-top: var(--sp-3);
    padding: var(--sp-4);
    background: linear-gradient(135deg, rgba(81, 89, 249, 0.02) 0%, rgba(81, 89, 249, 0.04) 100%);
    border: 1px solid rgba(81, 89, 249, 0.1);
    border-radius: var(--radius-main);
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--sp-4);
    animation: reasoningSlideIn 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

@keyframes reasoningSlideIn {
    from {
        opacity: 0;
        transform: translateY(-12px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.reasoning-item {
    display: flex;
    flex-direction: column;
    gap: var(--sp-1);
    padding-left: var(--sp-3);
    border-left: 2px solid var(--accent);
}

.reasoning-label {
    font-size: var(--fs-xs);
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.03em;
    color: var(--accent);
}

.reasoning-text {
    font-size: var(--fs-sm);
    color: var(--fg-primary);
    line-height: 1.6;
}

/* =============================================================================
   RESPONSIVE
   ============================================================================= */
@media (max-width: 768px) {
    .ontology-triple {
        flex-direction: column;
    }

    .relation-connector {
        flex-direction: row;
        min-width: auto;
        gap: var(--sp-2);
        padding: var(--sp-2) 0;
    }

    .epistemic-row {
        flex-direction: column;
        align-items: flex-start;
    }

    .reasoning-item {
        grid-template-columns: 1fr;
    }
}